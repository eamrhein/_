(this.webpackJsonpjpegup=this.webpackJsonpjpegup||[]).push([[0],{35:function(n,e,t){n.exports=t(52)},44:function(n,e,t){},52:function(n,e,t){"use strict";t.r(e);var r=t(16),o=t(0),a=t.n(o),i=t(18),c=t.n(i),l=t(8),u=t(10),s=(t(44),t(3)),m=t(2),f=t(13);function d(){var n=Object(s.a)(["\n    display: flex;\n    margin: 0.5rem;\n    min-width: 100vw;\n    max-width: 100vw;\n    align-items: center;\n    li {\n        margin-right: 1.5rem;\n        list-style: none;\n    }\n    @media(max-width: 600px) {\n        padding-inline-start: 0;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        .logo, li {\n            margin: 0 !important;\n        }\n    }\n    .logo {\n        margin-right: auto;\n    }\n  \n"]);return d=function(){return n},n}function p(){var n=Object(s.a)(["    \n    background-color: ",";\n    box-shadow: 0px 3px 15px rgba(0,0,0,0.15);\n"]);return p=function(){return n},n}function h(){var n=Object(s.a)(["\n  font-family: 'Meera Inimai', sans-serif;\n  color: ",";\n"]);return h=function(){return n},n}function g(){var n=Object(s.a)(["\n  font-family: 'Overpass', sans-serif;\n  font-weight: 300;\n  color: ",";\n  font-size: calc(14pt + 1rem);\n"]);return g=function(){return n},n}function b(){var n=Object(s.a)(["\n  font-family: 'Libre Franklin', sans-serif;\n  font-weight: 600;\n  color: ",";\n  font-size: calc(18pt + 0.5rem);\n"]);return b=function(){return n},n}function v(){var n=Object(s.a)(["\n    width: 300px;\n    height: 35px;\n    border: none;\n    text-decoration: none;\n    font-family: sans-serif;\n    font-size: 1rem;\n    cursor: pointer;\n    text-align: center;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-color: ",";\n    color: #fff;\n    border-radius: 3px;\n    transition: background 250ms ease-in-out, \n                transform 150ms ease;\n    &:hover{\n        background-color:",";\n    }\n"]);return v=function(){return n},n}function E(){var n=Object(s.a)(["\n    margin-bottom: 1rem;\n    width: 300px;\n    height: 35px;\n    border: 1px solid #ccc;\n    background-color: #fff;\n    &::-webkit-input-placeholder{\n        padding-left: 1rem;\n    }\n    &::-moz-placeholder{\n        padding-left: 1rem;\n    }\n    &::-ms-input-placeholder{\n        padding-left: 1rem;\n    }\n"]);return E=function(){return n},n}function w(){var n=Object(s.a)(["\n    width: 300px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return w=function(){return n},n}function x(){var n=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin: 1vmax;\n\tmargin-top: 5vmax;\n\tpadding: 1vmax;\n\tbackground-color: blue;\n\twidth: 80vw;\n\tmin-height: 80vh;\n\tborder-radius: 5px;\n\tbackground-color: #FFF;\n"]);return x=function(){return n},n}var j={colors:{navbar:"#FFFFFF",background:"#EFEFEF",font:"#545454",primary:"#FF3B3F",secondary:"#CAEBF2"}},y=m.b.div(x()),O=m.b.form(w()),k=m.b.input(E()),F=m.b.button(v(),(function(n){return n.theme.colors.font}),(function(n){return n.theme.colors.primary})),S=m.b.h1(b(),(function(n){return n.theme.colors.font})),R=(m.b.h2(g(),(function(n){return n.theme.colors.font})),m.b.p(h(),(function(n){return n.theme.color.colors.font||"#4d4d4d"})),m.b.nav(p(),(function(n){return n.theme.colors.navbar}))),U=m.b.ul(d());t(17),t(23);var A=t(19),I=t.n(A),T=function(){return function(n){localStorage.removeItem("jwtToken"),n({type:"RECEIVE_USER_LOGOUT"})}};function C(){var n=Object(s.a)(["\n\tfont-weight: bolder;\n\tcolor: ",";\n"]);return C=function(){return n},n}var L=m.b.span(C(),(function(n){return n.theme.colors.primary})),_=function(){var n=Object(l.d)((function(n){return n.session})),e=Object(l.c)();return a.a.createElement(R,null,a.a.createElement(U,null,a.a.createElement("li",{className:"logo"},a.a.createElement(u.b,{to:"/"},a.a.createElement("h1",null,"Travel",a.a.createElement(L,null,"Story")))),n.isAuthenticated?a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(u.b,{to:"/user/"+n.id},"My Stories")),a.a.createElement("li",null,a.a.createElement("a",{href:"",onClick:function(){return e(T())}},"Logout"))):a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(u.b,{to:"/login"},"Login")),a.a.createElement("li",null,a.a.createElement(u.b,{to:"/signup"},"Signup")))))},W=function(){return a.a.createElement(y,null,a.a.createElement(S,null,"Recent Trips"))},z=function(){var n=Object(l.d)((function(n){return n.session}));return a.a.createElement(y,null,a.a.createElement(S,null,n.username,"'s Trips"))};function N(){var n=Object(s.a)(["\n    margin-top: 10vh;\n    margin-bottom: 10vh;\n    margin-left: 20vw;\n    margin-right: 20vw;\n"]);return N=function(){return n},n}var B=m.b.div(N()),P=function(){return a.a.createElement(B,null,a.a.createElement("h3",null,"Login"),a.a.createElement(O,{onSubmit:function(n){return n.preventDefault()}},a.a.createElement(k,{type:"email",placeholder:"Email"}),a.a.createElement(k,{type:"password",placeholder:"Password"}),a.a.createElement(F,{type:"submit"},"Login")))};function V(){var n=Object(s.a)(["\n    margin-top: 10vh;\n    margin-bottom: 10vh;\n    margin-left: 20vw;\n    margin-right: 20vw;\n"]);return V=function(){return n},n}var D=m.b.div(V()),G=function(){return a.a.createElement(D,null,a.a.createElement("h3",null,"Signup"),a.a.createElement(O,{onSubmit:function(n){return n.preventDefault()}},a.a.createElement(k,{type:"text",placeholder:"Username"}),a.a.createElement(k,{type:"email",placeholder:"Email"}),a.a.createElement(k,{type:"password",placeholder:"Password"}),a.a.createElement(F,{type:"submit"},"Login")))},J=Object(f.f)(Object(l.b)((function(n){return{loggedIn:n.session.isAuthenticated,id:n.session.id}}))((function(n){var e=n.component,t=n.path,r=n.loggedIn,o=n.id,i=n.exact;return a.a.createElement(f.b,{path:t,exact:i,render:function(n){return r?a.a.createElement(f.a,{to:"/user/"+o}):a.a.createElement(e,n)}})})));function M(){var n=Object(s.a)(["\n    a {\n        text-decoration: none;\n        color:",";\n    } \n    a:visited {\n        color:",";\n    }\n    background-color: ",";\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: calc(9pt + 0.5vmin);\n    color: ",";\n    \n"]);return M=function(){return n},n}var $=m.b.div(M(),(function(n){return n.theme.colors.font}),(function(n){return n.theme.colors.font}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.font}));var q=function(){return Object(l.d)((function(n){return n.session})),a.a.createElement(m.a,{theme:j},a.a.createElement($,null,a.a.createElement(_,null),a.a.createElement(f.b,{exact:!0,path:"/",component:W}),a.a.createElement(J,{exact:!0,path:"/login",component:P}),a.a.createElement(J,{exact:!0,path:"/signup",component:G}),a.a.createElement(f.b,{path:"/user/:id",component:z}),a.a.createElement(f.a,{to:"/"})))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var Q,X=t(33),Y=t(14),Z=t(32),nn=(t(50),{isAuthenticated:!1}),en=Object(Y.c)({session:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_CURRENT_USER":return Object(r.a)({},n,{isAuthenticated:!!e.currentUser},e.currentUser);case"RECEIVE_USER_LOGOUT":return{isAuthenticated:!1};case"RECEIVE_USER_SIGN_IN":return Object(r.a)({},n,{isSignedIn:!0});default:return n}}}),tn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[Z.a];return Object(Y.d)(en,n,Y.a.apply(void 0,Object(X.a)(e)))},rn=(t(51),{});if(localStorage.jwtToken){var on=I()(localStorage.jwtToken),an=Date.now()/1e3;rn.session=Object(r.a)({isAuthenticated:!0},on),Q=tn(rn),on.exp<an&&(Q.dispatch(T()),window.location.href="/")}else Q=tn(rn);c.a.render(a.a.createElement(l.a,{store:Q},a.a.createElement(u.a,null,a.a.createElement(q,null))),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");H?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):K(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(e,n)}))}}()}},[[35,1,2]]]);
//# sourceMappingURL=main.90b99210.chunk.js.map